(this.webpackJsonp=this.webpackJsonp||[]).push([[12],{"/1Zo":function(e,t,n){"use strict";var r=n("RK/+");t.a=function(e){return{type:r.h,payload:e}}},"/mq7":function(e,t,n){"use strict";var r=n("RIqP"),a=n.n(r),i=n("lwsE"),o=n.n(i),s=n("W8MJ"),l=n.n(s),c=n("a1gu"),u=n.n(c),p=n("Nsbk"),d=n.n(p),g=n("7W2i"),h=n.n(g),f=n("lSNA"),b=n.n(f),m=n("q1tI"),k=n.n(m),v=n("JRPe"),w=n("g7yd"),y=n("fVoa"),O=n("2tiB"),S=n("s/1c"),C=Object(v.f)({anonymousUserTooltip:{id:"bitkit.navigation.accountMenu.anonymousUserTooltip",defaultMessage:"Anonymous! Click to log in or sign up."},loggedInUserTooltip:{id:"bitkit.navigation.accountMenu.loggedInUserTooltip",defaultMessage:"Your profile and settings"},viewProfileLink:{id:"bitkit.navigation.accountMenu.viewProfileLink",defaultMessage:"View profile"},manageAtlassianAccountLink:{id:"bitkit.navigation.accountMenu.manageAtlassianAccountLink",defaultMessage:"Manage Atlassian account"},settingsLink:{id:"bitkit.navigation.accountMenu.settingsLink",defaultMessage:"Bitbucket settings"},workspaceUISettingsLink:{id:"bitkit.navigation.accountMenu.workspaceUISettingsLink",defaultMessage:"Personal settings"},integrationsLink:{id:"bitkit.navigation.accountMenu.integrationsLink",defaultMessage:"App marketplace"},labsLink:{id:"bitkit.navigation.accountMenu.labsLink",defaultMessage:"Bitbucket Labs"},workspaceUILabsLink:{id:"bitkit.navigation.accountMenu.workspaceUILabsLink",defaultMessage:"Labs"},workspaceUILogoutLink:{id:"bitkit.navigation.accountMenu.workspaceUILogoutLink",defaultMessage:"Logout"},logOutLink:{id:"bitkit.navigation.accountMenu.logOutLink",defaultMessage:"Log out"},signUpLink:{id:"bitkit.navigation.accountMenu.signUpLink",defaultMessage:"Sign up"},logInLink:{id:"bitkit.navigation.accountMenu.logInLink",defaultMessage:"Log in"},teamsHeader:{id:"bitkit.navigation.accountMenu.teamsHeader",defaultMessage:"Teams"},viewAllTeamsLink:{id:"bitkit.navigation.accountMenu.viewAllTeamsLink",defaultMessage:"View all teams"},workspacesHeader:{id:"bitkit.navigation.accountMenu.workspacesHeader",defaultMessage:"Recent workspaces"},viewAllWorkspacesLink:{id:"bitkit.navigation.accountMenu.viewAllWorkspacesLink",defaultMessage:"All workspaces"}}),E=function(e){function t(){return o()(this,t),u()(this,d()(t).apply(this,arguments))}return h()(t,e),l()(t,[{key:"getAnonymousMenuItems",value:function(){var e=this.props,t=e.intl,n=e.isAkDropdown;return[k.a.createElement(S.a,{isAkDropdown:n,href:O.a.ui.login(),key:"login-link"},t.formatMessage(C.logInLink)),k.a.createElement(S.a,{isAkDropdown:n,href:O.a.ui.signup(),key:"signup-link"},t.formatMessage(C.signUpLink))]}},{key:"sortList",value:function(e){var t=this.props,n=t.teams,r=t.hasWorkspaceUi,a=t.recentlyViewedWorkspacesKeys;if(r){if(a&&a.length>0){var i=[];return a.forEach((function(e){var t=n.findIndex((function(t){return t.uuid===e})),r=n[t];r&&i.push(r)})),n.filter((function(e){return!a.includes(e.uuid)})).forEach((function(e){return i.push(e)})),i}if(e){var o=n.findIndex((function(t){return t.slug===e})),s=n[o];s&&(n.splice(o,1),n.unshift(s))}return n}return n}},{key:"getTeamMenuItems",value:function(e){var t=this.props,n=t.hasWorkspaceUi,r=t.userDisplayName,a=t.userUuid,i=t.userHtmlUrl,o=t.userAccountStatus,s=t.intl,l=t.teams,c=t.isAkDropdown;if(!!!r||!l||0===l.length)return[];var u=this.sortList(e).slice(0,3).map((function(e){return k.a.createElement(S.a,{isAkDropdown:c,href:Object(y.l)(e)||void 0,key:e.uuid,elemBefore:k.a.createElement(w.a,{size:"xsmall",appearance:n?"square":"circle",src:e.links.avatar.href})},e.display_name?e.display_name:"")})),p="closed"!==o?i||a:void 0;if(!n&&l.length>3&&p){var d="".concat(p,"profile/teams");u.push(k.a.createElement(S.a,{isAkDropdown:c,href:d,key:d},s.formatMessage(C.viewAllTeamsLink)))}return n&&u.push(k.a.createElement(S.a,{isAkDropdown:c,href:O.a.ui.allWorkspaces(),key:O.a.ui.allWorkspaces()},s.formatMessage(C.viewAllWorkspacesLink))),[k.a.createElement(S.b,{isAkDropdown:c,title:s.formatMessage(n?C.workspacesHeader:C.teamsHeader),key:"teams-group"},u)]}},{key:"getAuthenticatedMenuItems",value:function(){var e=this.props,t=e.aaLogoutUrl,n=e.canonUrl,r=e.userHtmlUrl,i=e.userUuid,o=e.userWorkspaceId,s=e.userDisplayName,l=e.hasAtlassianAccount,c=e.hasWorkspaceUi,u=e.intl,p=e.isAkDropdown;if(!s)return[];var d=o;return[].concat(a()(this.getTeamMenuItems(d)),[k.a.createElement(S.b,{isAkDropdown:p,title:s||"",key:"authenticated-user-group"},r&&!c?k.a.createElement(S.a,{isAkDropdown:p,href:r},u.formatMessage(C.viewProfileLink)):null,k.a.createElement(S.a,{isAkDropdown:p,href:i&&O.a.ui.settings(i,c)},u.formatMessage(c?C.workspaceUISettingsLink:C.settingsLink)),!c&&k.a.createElement(S.a,{href:O.a.ui.integrations(),isAkDropdown:p},u.formatMessage(C.integrationsLink)),k.a.createElement(S.a,{href:O.a.ui.labs(c),isAkDropdown:p},u.formatMessage(c?C.workspaceUILabsLink:C.labsLink)),k.a.createElement(S.a,{isAkDropdown:p,href:l?O.a.external.atlassianAccountLogout(t,n):O.a.ui.logout()},u.formatMessage(c?C.workspaceUILogoutLink:C.logOutLink)))])}},{key:"render",value:function(){return void 0!==this.props.userDisplayName?this.getAuthenticatedMenuItems():this.getAnonymousMenuItems()}}]),t}(m.PureComponent);b()(E,"defaultProps",{hasWorkspaceUi:!1});t.a=Object(v.g)(E)},"0wUx":function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),i=n("lwsE"),o=n.n(i),s=n("W8MJ"),l=n.n(s),c=n("a1gu"),u=n.n(c),p=n("Nsbk"),d=n.n(p),g=n("PJYZ"),h=n.n(g),f=n("7W2i"),b=n.n(f),m=n("lSNA"),k=n.n(m),v=n("q1tI"),w=n.n(v),y=n("JRPe"),O=n("oMky"),S=n.n(O),C=n("4Nyd"),E=n("2tiB"),A=n("s/1c"),j=Object(y.f)({trigger:{id:"bitkit.navigation.helpMenu.trigger",defaultMessage:"Help"},tooltip:{id:"bitkit.navigation.helpMenu.tooltip",defaultMessage:"Help"},helpHeading:{id:"bitkit.navigation.helpMenu.helpHeading",defaultMessage:"Help"},informationHeading:{id:"bitkit.navigation.helpMenu.informationHeading",defaultMessage:"Information"},legalHeading:{id:"bitkit.navigation.helpMenu.legalHeading",defaultMessage:"Legal"},documentationLink:{id:"bitkit.navigation.helpMenu.documentationLink",defaultMessage:"Documentation"},learnGitLink:{id:"bitkit.navigation.helpMenu.learnGitLink",defaultMessage:"Learn Git"},keyboardShortcutsButton:{id:"bitkit.navigation.helpMenu.keyboardShortcutsButton",defaultMessage:"Keyboard shortcuts"},tutorialsLink:{id:"bitkit.navigation.helpMenu.tutorialsLink",defaultMessage:"Bitbucket tutorials"},apiLink:{id:"bitkit.navigation.helpMenu.apiLink",defaultMessage:"API"},supportLink:{id:"bitkit.navigation.helpMenu.supportLink",defaultMessage:"Support"},blogLink:{id:"bitkit.navigation.helpMenu.blogLink",defaultMessage:"Blog"},plansLink:{id:"bitkit.navigation.helpMenu.plansLink",defaultMessage:"Plans & pricing"},siteStatusLink:{id:"bitkit.navigation.helpMenu.siteStatusLink",defaultMessage:"Site status"},termsOfServiceLink:{id:"bitkit.navigation.helpMenu.termsOfServiceLink",defaultMessage:"Terms of service"},privacyPolicyLink:{id:"bitkit.navigation.helpMenu.privacyPolicyLink",defaultMessage:"Privacy policy"},whatsNewTitle:{id:"bitkit.navigation.whatsNew",defaultMessage:"What's new"},learnMoreLink:{id:"bitkit.navigation.learnMore",defaultMessage:"Learn more"},newLabel:{id:"bitkit.navigation.newBlogLabel",defaultMessage:"New"}}),M=n("VkAN"),D=n.n(M),L=n("wTIg"),N=n("qKvR"),_=n("b0Qh");function x(){var e=D()(["\n  from { left: 0; }\n  to { left: 100%; }\n"]);return x=function(){return e},e}function P(){var e=D()(["\n  from { left: 100%; }\n  to { left:0; }\n"]);return P=function(){return e},e}var I=Object(L.a)("div",{target:"e1s4nx960"})({name:"1jk8oqa",styles:"position:relative;overflow-x:hidden;text-align:left;font-size:14px;"}),U=Object(N.keyframes)(P()),R=Object(N.keyframes)(x()),H=(Object(L.a)("div",{target:"e1s4nx961"})({name:"79elbk",styles:"position:relative;"}),Object(L.a)("span",{target:"e1s4nx962"})("display:block;width:8px;height:8px;background-color:",_.a.P100,";position:absolute;top:-2px;right:-2px;border-radius:8px;border:3px solid ",(function(e){return e.parentColor}),";"),Object(L.a)("div",{target:"e1s4nx963"})("position:absolute;top:0;left:",(function(e){return e.isShown?"0":"100%"}),";height:100%;width:100%;background:white;animation:",(function(e){return e.isShown?U:R})," 0.15s ease-out;display:flex;flex-direction:column;@media screen and (prefers-reduced-motion:reduce){animation-duration:0.001ms;animation-iteration-count:1;}")),B=Object(L.a)("div",{target:"e1s4nx964"})("cursor:pointer;display:flex;align-items:center;position:sticky;top:0;background:white;border-bottom:1px solid ",_.a.N30A,";padding:6px;text-transform:uppercase;font-size:12px;color:",_.a.N200,";flex:0 0 auto;"),T=Object(L.a)("div",{target:"e1s4nx965"})((function(e){return e.isAkDropdown&&"max-height: 470px;"})," overflow-y:auto;flex:1 1 auto;"),q=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=u()(this,(e=d()(t)).call.apply(e,[this].concat(a))),k()(h()(n),"state",{isOverlayShown:!1,isAnimating:!1}),k()(h()(n),"toggleOverlay",(function(e){return function(t){t&&t.preventDefault(),e||n.props.onOverlayHidden(),n.setState({isOverlayShown:e,isAnimating:!0})}})),k()(h()(n),"onAnimationEnd",(function(){n.setState({isAnimating:!1})})),n}return b()(t,e),l()(t,[{key:"componentWillUnmount",value:function(){this.state.isOverlayShown&&this.props.onOverlayHidden()}},{key:"render",value:function(){var e=this.state,t=e.isOverlayShown,n=e.isAnimating,r=this.toggleOverlay(!0),a=this.toggleOverlay(!1);return w.a.createElement(I,null,this.props.children(r),(t||n)&&w.a.createElement(H,{isShown:t,onAnimationEnd:this.onAnimationEnd},this.props.overlayContent(a)))}}]),t}(v.Component),W=n("FbrI"),z=n("gxo2");var F=Object(L.a)("p",{target:"e5aujb50"})("white-space:normal;margin-top:0;padding-top:6px;color:",_.a.N100,";line-height:1.3;font-size:",12,"px;margin-bottom:",Object(z.gridSize)(),"px;"),V=Object(L.a)("div",{target:"e5aujb51"})("background-color:",_.a.N20,";padding:",Object(z.gridSize)(),"px;margin:",Object(z.gridSize)(),"px;border-radius:",Object(z.borderRadius)(),"px;"),G=Object(L.a)("div",{target:"e5aujb52"})({name:"69i1ev",styles:"display:flex;justify-content:space-between;align-items:center;"}),J=Object(L.a)("span",{target:"e5aujb53"})("font-size:",12,"px;color:",_.a.N300,";"),K=Object(L.a)("div",{target:"e5aujb54"})("padding:",Object(z.gridSize)(),"px;background-color:white;border-radius:",Object(z.borderRadius)(),"px;margin-top:",Object(z.gridSize)(),"px;box-shadow:0 0 1px 0 ",_.a.N50A,";"),Q=Object(L.a)("span",{target:"e5aujb55"})("font-size:16px;color:",_.a.N800,";"),Z=Object(L.a)("a",{target:"e5aujb56"})("color:",_.a.B400,";font-size:",12,"px;"),Y=function(e){function t(){return o()(this,t),u()(this,d()(t).apply(this,arguments))}return b()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.link,r=e.date,a=e.title,i=e.intro,o=e.isNew,s=e.intl,l=e.onClick;return w.a.createElement(V,{key:t},w.a.createElement(G,null,w.a.createElement(J,null,r),o&&w.a.createElement(W.a,{appearance:"new"},s.formatMessage(j.newLabel))),w.a.createElement(K,null,w.a.createElement(Q,null,a),w.a.createElement(F,{dangerouslySetInnerHTML:{__html:i}}),w.a.createElement(Z,{href:n,target:"_blank",onClick:l},s.formatMessage(j.learnMoreLink))))}}]),t}(v.PureComponent),X=Object(y.g)(Y),$=n("SOCJ"),ee=n.n($),te=n("aPfo");var ne=Object(L.a)("span",{target:"e9py57x0"})({name:"spa04r",styles:"display:flex;width:280px;justify-content:space-between;align-items:center;"}),re=Object(L.a)("span",{target:"e9py57x1"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),ae=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=u()(this,(e=d()(t)).call.apply(e,[this].concat(a))),k()(h()(n),"handleClick",(function(e){e.preventDefault(),n.props.onClick(e)})),n}return b()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.newBlogCount,n=e.intl,r=e.isAkDropdown;return w.a.createElement(A.a,{href:"#",onClick:this.handleClick,isAkDropdown:r},w.a.createElement(ne,null,n.formatMessage(j.whatsNewTitle)," ",t?w.a.createElement(re,null,w.a.createElement(te.a,{appearance:{backgroundColor:_.a.P300,textColor:_.a.N0}},t)," ",w.a.createElement(ee.a,{size:"small",label:""})):w.a.createElement(ee.a,{size:"small",label:""})))}}]),t}(v.PureComponent),ie=Object(y.g)(ae),oe=n("dC6I"),se=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=u()(this,(e=d()(t)).call.apply(e,[this].concat(i))),k()(h()(n),"renderDropdownItems",(function(e,t,r,i,o){var s=n.props,l=s.intl,c=s.isWhatsNewEnabled,u=s.isAkDropdown;return w.a.createElement(q,{overlayContent:function(n){return w.a.createElement(v.Fragment,null,w.a.createElement(B,{onClick:n,tabIndex:0},w.a.createElement(S.a,{size:"small",label:""})," ",l.formatMessage(j.whatsNewTitle)),w.a.createElement(T,{isAkDropdown:u},r.map((function(n){return w.a.createElement(X,a()({key:n.id,onClick:function(){e(new oe.d),t({action:"clicked",actionSubject:"post",actionSubjectId:"whatsNewPost",source:"navigation"})}},n))}))))},onOverlayHidden:o},(function(a){return w.a.createElement(v.Fragment,null,w.a.createElement(A.b,{isAkDropdown:u,title:l.formatMessage(j.helpHeading)},c&&r.length?w.a.createElement(ie,{isAkDropdown:u,newBlogCount:i,onClick:function(n){a(n),e(new oe.e),t({action:"clicked",actionSubject:"submenu",actionSubjectId:"whatsNewSubmenu",source:"navigation"})}}):null,w.a.createElement(A.a,{isAkDropdown:u,href:E.a.external.documentation(),rel:"noopener noreferrer",target:"_blank"},l.formatMessage(j.documentationLink)),w.a.createElement(A.a,{isAkDropdown:u,href:E.a.external.gettingGitRight(),rel:"noopener noreferrer",target:"_blank"},l.formatMessage(j.learnGitLink)),w.a.createElement(A.a,{isAkDropdown:u,onClick:n.props.onKeyboardShortcutsActivated},l.formatMessage(j.keyboardShortcutsButton)),w.a.createElement(A.a,{isAkDropdown:u,href:E.a.external.tutorials(),rel:"noopener noreferrer",target:"_blank"},l.formatMessage(j.tutorialsLink)),w.a.createElement(A.a,{isAkDropdown:u,href:E.a.external.apiDocumentation(),rel:"noopener noreferrer",target:"_blank"},l.formatMessage(j.apiLink)),w.a.createElement(A.a,{isAkDropdown:u,href:E.a.ui.support()},l.formatMessage(j.supportLink))),w.a.createElement(A.b,{isAkDropdown:u,title:l.formatMessage(j.informationHeading)},w.a.createElement(A.a,{isAkDropdown:u,href:E.a.external.blog(),rel:"noopener noreferrer",target:"_blank"},l.formatMessage(j.blogLink)),w.a.createElement(A.a,{isAkDropdown:u,href:E.a.ui.plans(),rel:"noopener noreferrer",target:"_blank"},l.formatMessage(j.plansLink)),w.a.createElement(A.a,{isAkDropdown:u,href:E.a.external.status(),rel:"noopener noreferrer",target:"_blank"},l.formatMessage(j.siteStatusLink))),w.a.createElement(A.b,{isAkDropdown:u,title:l.formatMessage(j.legalHeading)},w.a.createElement(A.a,{isAkDropdown:u,href:E.a.external.termsOfService(),rel:"noopener noreferrer",target:"_blank"},l.formatMessage(j.termsOfServiceLink)),w.a.createElement(A.a,{isAkDropdown:u,href:E.a.external.privacyPolicy(),rel:"noopener noreferrer",target:"_blank"},l.formatMessage(j.privacyPolicyLink))))}))})),n}return b()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.blogs,r=t.newBlogCount,a=t.storeLastSeenBlog,i=t.publishUiEvent;return w.a.createElement(C.FactContext.Consumer,null,(function(t){var o=t.publishFact;return e.renderDropdownItems(o,i,n,r,a)}))}}]),t}(v.PureComponent);t.a=Object(y.g)(se)},"2tiB":function(e,t,n){"use strict";var r=n("Qyje"),a=n.n(r),i=n("Vnj8"),o={api:{internal:{availableProducts:function(){return"/!api/internal/my/available-products"}},v10:{},v20:{},gateway:{availableProducts:function(e){return e?"/gateway/api/available-products/api/available-products":"/gateway/api/worklens/api/available-products"}}},external:{apiDocumentation:function(){return"https://confluence.atlassian.com/x/IYBGDQ"},atlassianAccountLogout:function(e,t){return"".concat(e,"?").concat(a.a.stringify({continue:"".concat(t).concat(o.ui.logout())}))},blog:function(){return"https://blog.bitbucket.org"},documentation:function(){return"https://confluence.atlassian.com/display/BITBUCKET"},gettingGitRight:function(){return"https://www.atlassian.com/git"},privacyPolicy:function(){return"https://www.atlassian.com/legal/privacy-policy"},status:function(){return"https://status.bitbucket.org"},termsOfService:function(){return"https://www.atlassian.com/legal/customer-agreement"},tutorials:function(){return"https://confluence.atlassian.com/x/Q4sFLQ"},apiPrivate:function(e){return e===i.a.Production?"https://api-private.atlassian.com":"https://api-private.stg.atlassian.com"}},ui:{integrations:function(e){return e?"/".concat(e,"/workspace/settings/addon-directory/"):"/account/admin/addon-directory/"},labs:function(e){return e?"/account/settings/features/":"/account/admin/features/"},login:function(){return"/account/signin/"},logout:function(){return"/account/signout/"},plans:function(){return"/plans"},root:function(){return"/"},settings:function(e,t){return t?"/account/settings/":"/account/user/".concat(e,"/")},signup:function(){return"/account/signup/"},support:function(){return"/support"},allWorkspaces:function(){return"/account/workspaces/"}}};t.a=o},"33E1":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var r=n("wTIg"),a=n("b0Qh"),i=n("gxo2"),o=Object(r.a)("span",{target:"e1ke2l40"})("display:block;width:8px;height:8px;background-color:",a.a.P100,";position:absolute;top:-0;left:-2px;border-radius:8px;border:3px solid ",(function(e){return e.parentColor}),";"),s=Object(r.a)("div",{target:"e1ke2l41"})("min-width:",28*Object(i.gridSize)(),"px;")},"Eh+d":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("eoVD"),o=n("wTIg"),s=n("gxo2"),l=Object(o.a)("div",{target:"e13ec4bl0"})("padding-top:",2*Object(s.gridSize)(),"px;"),c=Object(o.a)("div",{target:"e13ec4bl1"})("margin:0 ",Object(s.gridSize)(),"px;"),u=Object(o.a)("div",{target:"e13ec4bl2"})("line-height:",2*Object(s.gridSize)()/Object(s.fontSize)(),";font-weight:600;");t.a=function(e){var t=e.title,n=e.children;return a.a.createElement(l,null,a.a.createElement(i.a,{title:a.a.createElement(u,null,t)},a.a.createElement(c,null,n)))}},Fp1f:function(e,t,n){"use strict";var r,a,i=n("q1tI"),o=n.n(i),s=n("JRPe"),l=n("8PZj"),c=n("0SCk"),u=n("vUDj"),p=n("MjSJ"),d=n("AAtZ"),g=n.n(d),h=n("qkqD"),f=n("2tiB"),b=n("lSNA"),m=n.n(b),k=n("Vnj8"),v=(r={},m()(r,k.b.Bitbucket,"https://bitbucket.org"),m()(r,k.b.Confluence,"https://www.atlassian.com/software/confluence?utm_source=bitbucket&utm_medium=in_product_ad&utm_campaign=bitbucket_app_switcher&utm_content=conf_integrations"),m()(r,k.b.JiraServiceDesk,"https://www.atlassian.com/software/jira/service-desk?utm_source=bitbucket&utm_medium=in_product_ad&utm_campaign=bitbucket_app_switcher&utm_content=jsd_integrations"),m()(r,k.b.JiraSoftware,"https://www.atlassian.com/software/jira/bitbucket-integration?utm_source=bitbucket&utm_medium=in_product_ad&utm_campaign=bitbucket_app_switcher&utm_content=integrations"),m()(r,k.b.Opsgenie,"https://www.atlassian.com/software/opsgenie/bitbucket-integration?utm_source=bitbucket&utm_medium=in_product_ad&utm_campaign=bitbucket_app_switcher&utm_content=opsgenie_integrations"),r),w=Object(s.f)({trigger:{id:"bitkit.navigation.atlassianSwitcher.trigger",defaultMessage:"Switch to"},tooltip:{id:"bitkit.navigation.atlassianSwitcher.tooltip",defaultMessage:"Switch to…"}}),y=n("wTIg"),O=n("b0Qh"),S=Object(y.a)("div",{target:"e1fw77sy0"})("&&&{h1{",O.d.h100(),";margin-top:0;}}"),C=n("J4zp"),E=n.n(C),A=n("o0o1"),j=n.n(A),M=n("yXPU"),D=n.n(M);!function(e){e.Fetching="FETCHING",e.HasSession="HAS_ATLASSIAN_SESSION",e.NoSession="NO_ATLASSIAN_SESSION",e.NoCheckRequired="NO_CHECK_REQUIRED"}(a||(a={}));var L=function(){var e=D()(j.a.mark((function e(t,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(f.a.api.gateway.availableProducts(n));case 3:(r=e.sent).ok&&200===r.status?t(a.HasSession):t(a.NoSession),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(a.NoSession);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),N=Object(c.a)(f.a.api.internal.availableProducts());t.a=Object(s.g)((function(e){var t=e.globalItemStyles,n=e.intl,r=e.isAtlassianSwitcherOpen,s=e.isLoggedIn,c=e.onToggleAtlassianSwitcher,d=e.isNewAvailableProductsEndpointEnabled,f=Object(h.c)(),b=function(e,t){var n=Object(i.useState)(a.Fetching),r=E()(n,2),o=r[0],s=r[1];return Object(i.useEffect)((function(){e?L(s,t):s(a.NoCheckRequired)}),[e,t]),o}(r,d)===a.HasSession;return s?o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,{id:"appSwitcher",styles:t,icon:g.a,onClick:function(){return c(!0)},size:"small",label:n.formatMessage(w.trigger),tooltip:n.formatMessage(w.tooltip)}),o.a.createElement(u.a,{isOpen:r,onClose:function(){return c(!1)}},o.a.createElement(S,null,o.a.createElement(l.a,{appearance:"drawer",product:"bitbucket",availableProductsDataProvider:N,disableCustomLinks:!0,disableRecentContainers:!0,triggerXFlow:function(e){f.isEnabled&&b?f.api.open({journey:h.a.DECIDE,targetProduct:e,sourceComponent:"atlassian-switcher",sourceContext:"recommendation"}):function(e){var t=v[e];if(t){var n=window.open(t,"_blank");n&&n.focus()}}(e)},onDiscoverMoreClicked:function(){f.isEnabled&&b&&f.api.open({journey:h.a.DISCOVER,sourceComponent:"atlassian-switcher",sourceContext:"more"})},isDiscoverSectionEnabled:!0,isDiscoverMoreForEveryoneEnabled:f.isEnabled&&b})))):null}))},FqXf:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),s=n("a1gu"),l=n.n(s),c=n("Nsbk"),u=n.n(c),p=n("PJYZ"),d=n.n(p),g=n("7W2i"),h=n.n(g),f=n("lSNA"),b=n.n(f),m=n("q1tI"),k=n.n(m),v=n("/MKj"),w=n("FUV3"),y=n("k3RL"),O=n("aA9w"),S=n("D+N9"),C=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),b()(d()(n),"linkRef",void 0),n}return h()(t,e),o()(t,[{key:"componentDidUpdate",value:function(e){this.linkRef&&(e.isFocused||!this.props.isFocused?e.isFocused&&!this.props.isFocused&&this.linkRef.blur():this.linkRef.focus())}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.className,a=t.isSpa,i=t.href,o=t.title,s=t.qaId,l=n||o,c=t.disableNativeTooltip?void 0:o;return a?k.a.createElement(S.a,{innerRef:function(t){return e.linkRef=t},to:i,"data-qa":s,className:r,title:c,onClick:function(){Object(O.a)({task:y.a.PullRequest,type:"transition"}),e.props.onClick&&e.props.onClick()}},l):k.a.createElement("a",{ref:function(t){return e.linkRef=t},href:i,"data-qa":s,className:r,title:c},l)}}]),t}(m.PureComponent),E=Object(v.b)((function(e){return{isSpa:Object(w.p)(e)}}))(C);t.a=E},L4t8:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return p}));var r=n("peh1"),a=n("vt2+"),i=n("NNkL"),o=n("XEp/"),s=Object(r.createSelector)(o.g,(function(e){return e})),l=Object(r.createSelector)(o.e,(function(e){var t;return null===(t=e.section)||void 0===t?void 0:t.currentWorkspace})),c=Object(r.createSelector)(o.e,(function(e){return e.section.menuItems})),u=new RegExp(/^\/\S+\/\S+\/settings/),p=Object(a.a)(c,(function(e,t,n){return{pathname:t,matchUrl:n}}),(function(e,t){var n=t.pathname,r=t.matchUrl;return Object(i.d)(e,(function(e){var t=n.slice(r.length),a=e.matching_url_prefixes||[],i=e.url.replace(/\/$/,"");return u.test(n)?n.replace(/\/$/,"")===i:0===n.indexOf(i)||a.some((function(e){return 0===t.indexOf(e)}))}))}))((function(e,t,n){return"".concat(n,":").concat(t)}))},LDOT:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),i=n("QILm"),o=n.n(i),s=n("lwsE"),l=n.n(s),c=n("W8MJ"),u=n.n(c),p=n("a1gu"),d=n.n(p),g=n("Nsbk"),h=n.n(g),f=n("7W2i"),b=n.n(f),m=n("lSNA"),k=n.n(m),v=n("q1tI"),w=n.n(v),y=n("/MKj"),O=n("peh1"),S=n("eK+7"),C=n("NSAn"),E=n("D+jC"),A=n("FqXf"),j=n("Kkjj"),M=n("/1Zo"),D=n("FUV3"),L=n("nEUC"),N=n("MZCo"),_=n("L4t8"),x=n("i5k1"),P=n("3X5A"),I=n.n(P),U=function(e,t){return I.a.score(e.toLowerCase(),t.toLowerCase())},R=n("JjJU"),H=n("nBRC"),B=function(e){return{type:H.m,payload:e}},T=n("PriX"),q=n("ZPvP"),W=n("b0+Y"),z=n("dluv"),F=n("Tr8F"),V=n("PJYZ"),G=n.n(V),J=n("3zPy"),K=n.n(J),Q=n("Wwog"),Z=n("JRPe"),Y=n("CnBM"),X=n.n(Y),$=n("1FuN"),ee=n("wLTh"),te=n("Va2R"),ne=n("rX/W"),re=Object(Z.f)({resizerButtonLabel:{id:"bitkit.navigation.resizerButton.label",defaultMessage:"Expand or collapse the navigation (left bracket)"}}),ae=n("A2Qb"),ie=n("rL+6"),oe=n("Rz6r"),se=Object(Z.f)({homeButtonTooltip:{id:"bitkit.navigation.homeButtonTooltip",defaultMessage:"{Product_Name} home"},searchButtonTooltip:{id:"bitkit.navigation.searchButtonTooltip",defaultMessage:"Search"},createButtonTooltip:{id:"bitkit.navigation.createButtonTooltip",defaultMessage:"Create"},anonymousUserTooltip:{id:"bitkit.navigation.accountMenu.anonymousUserTooltip",defaultMessage:"Anonymous! Click to log in or sign up."},loggedInUserTooltip:{id:"bitkit.navigation.accountMenu.loggedInUserTooltip",defaultMessage:"Your profile and settings"},helpButtonTooltip:{id:"bitkit.navigation.helpMenuTooltip",defaultMessage:"Help"},appSwitcherTooltip:{id:"bitkit.navigation.appSwitcherTooltip",defaultMessage:"Switch to …"}}),le=n("pc73"),ce=n("gzMw"),ue=n("0wUx"),pe=n("/mq7"),de=n("Fp1f"),ge=n("M7AS"),he=n("33E1"),fe=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=d()(this,(e=h()(t)).call.apply(e,[this].concat(a))),k()(G()(n),"renderCreateDrawerContents",(function(){var e=G()(n).props;return w.a.createElement(ce.a,{containerBitbucketActions:e.containerBitbucketActions,containerConnectActions:e.containerConnectActions,drawerHeader:e.drawerHeader,globalBitbucketActions:e.globalBitbucketActions,importBitbucketActions:e.importBitbucketActions,onCloneClick:e.onCloneClick,onCreateDrawerClose:e.onCreateDrawerClose,linkComponent:e.linkComponent,publishUiEvent:e.publishUiEvent})})),k()(G()(n),"renderSearchDrawerContents",(function(){var e=G()(n).props;return w.a.createElement(le.a,{repoName:e.repoName,repoSlug:e.repoSlug,currentProject:e.currentProject,isLoading:e.isLoading,isLoggedIn:n.isLoggedIn(),linkComponent:e.linkComponent,onSearch:e.onSearch,onSearchDrawerInit:e.onSearchDrawerInit,onSearchSubmit:e.onSearchSubmit,searchQuery:e.searchQuery,searchResults:e.searchResults,targetUserDisplayName:e.targetUserDisplayName,targetUserUuid:e.targetUserUuid,repositoryLinkComponent:e.repositoryLinkComponent,pullRequestLinkComponent:e.pullRequestLinkComponent,isSearchDrawerOpen:e.isSearchDrawerOpen,onSearchDrawerClose:e.onSearchDrawerClose,publishUiEvent:e.publishUiEvent})})),k()(G()(n),"renderHelpMenu",(function(e,t,r){var a=G()(n).props;return w.a.createElement(ue.a,{onKeyboardShortcutsActivated:a.onKeyboardShortcutsActivated,isWhatsNewEnabled:a.isWhatsNewEnabled,key:"help-menu",blogs:e,newBlogCount:t,storeLastSeenBlog:r,publishUiEvent:a.publishUiEvent,isAkDropdown:!0})})),k()(G()(n),"renderHelpBadge",(function(e,t){return e&&t?w.a.createElement(he.b,{parentColor:n.getParentColor()}):null})),k()(G()(n),"renderAccountMenu",(function(){var e=G()(n).props;return w.a.createElement(he.a,null,w.a.createElement(pe.a,{aaLogoutUrl:e.aaLogoutUrl,canonUrl:e.canonUrl,isAkDropdown:!0,teams:e.teams,recentlyViewedWorkspacesKeys:e.recentlyViewedWorkspacesKeys,hasWorkspaceUi:e.hasWorkspaceUi,hasAtlassianAccount:e.hasAtlassianAccount,userAccountStatus:e.userAccountStatus,userAvatarUrl:e.userAvatarUrl,userDisplayName:e.userDisplayName,userHtmlUrl:e.userHtmlUrl,userUuid:e.userUuid,userWorkspaceId:e.userWorkspaceId,key:"acct-menu"}))})),k()(G()(n),"renderAppSwitcher",(function(){var e=G()(n).props;return w.a.createElement(de.a,{key:"atlassian-switcher",isAtlassianSwitcherOpen:e.isAtlassianSwitcherOpen,isLoggedIn:n.isLoggedIn(),onToggleAtlassianSwitcher:e.onToggleAtlassianSwitcher,isNewAvailableProductsEndpointEnabled:e.isNewAvailableProductsEndpointEnabled})})),k()(G()(n),"getParentColor",(function(){return n.props.themeMode.globalNav().backgroundColor})),k()(G()(n),"isLoggedIn",(function(){return Boolean(n.props.userUuid)})),k()(G()(n),"handleProductClick",(function(e){var t=n.props.onProductClick;e.metaKey||e.ctrlKey||1!==e.button&&n.isLoggedIn()&&t&&(e.preventDefault(),t())})),k()(G()(n),"getBitbucketIcon",(function(){return n.props.hasPride?w.a.createElement(oe.a,{label:"Bitbucket",size:oe.l.Large}):w.a.createElement(ae.a,{label:"Bitbucket",size:oe.l.Large})})),n}return b()(t,e),u()(t,[{key:"render",value:function(){var e=this,t=this.props,n=this.props,r=n.intl,i=n.userUuid,o=n.userAvatarUrl,s=this.isLoggedIn()?{createDrawerWidth:"narrow",createDrawerContents:this.renderCreateDrawerContents,isCreateDrawerOpen:t.isCreateDrawerOpen,onCreateClick:t.onCreateDrawerOpen,onCreateDrawerClose:t.onCreateDrawerClose,createTooltip:r.formatMessage(se.createButtonTooltip)}:{},l={isSearchDrawerOpen:t.isSearchDrawerOpen,onSearchClick:t.onSearchDrawerOpen,onSearchDrawerClose:t.onSearchDrawerClose,searchTooltip:r.formatMessage(se.searchButtonTooltip),searchDrawerContents:this.renderSearchDrawerContents};return w.a.createElement(ge.a,{url:t.isWhatsNewEnabled?t.whatsNewUrl:void 0,currentUserUuid:i||"anonymous"},(function(n){var c=n.blogs,u=n.newBlogCount,p=n.storeLastSeenBlog;return w.a.createElement(ie.a,a()({appSwitcherComponent:e.renderAppSwitcher,productIcon:e.getBitbucketIcon,productHref:"/",productTooltip:r.formatMessage(se.homeButtonTooltip,{Product_Name:"Bitbucket"}),onProductClick:e.handleProductClick},s,l,{helpItems:function(){return e.renderHelpMenu(c,u,p)},helpTooltip:r.formatMessage(se.helpButtonTooltip),helpBadge:function(){return e.renderHelpBadge(t.isWhatsNewEnabled,u)},profileItems:e.renderAccountMenu,profileIconUrl:o,profileTooltip:i?r.formatMessage(se.loggedInUserTooltip):r.formatMessage(se.anonymousUserTooltip)}))}))}}]),t}(v.PureComponent);k()(fe,"defaultProps",{hasWorkspaceUi:!1});var be=Object(Z.g)(fe),me=n("g7yd"),ke=n("PbrL"),ve=n("oNmO"),we=n("wTIg"),ye=n("gxo2");var Oe=Object(we.a)("div",{target:"e1pq0l0x0"})("margin-right:",Object(ye.gridSize)(),"px;margin-bottom:",Object(ye.gridSize)(),"px;"),Se=Object(we.a)("div",{target:"e1pq0l0x1"})("padding-left:",Object(ye.gridSize)(),"px;padding-top:",Object(ye.gridSize)()/2,"px;"),Ce=Object(we.a)("div",{target:"e1pq0l0x2"})({name:"35ezg3",styles:"font-weight:600;"}),Ee=function(e){function t(){return l()(this,t),d()(this,h()(t).apply(this,arguments))}return b()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.isGlobalContext,n=e.isPrivate,r=e.href,a=e.name,i=e.logo,o=e.linkComponent;if(t)return w.a.createElement(Se,null,w.a.createElement(ke.a,null));var s=i?w.a.createElement(me.a,{size:"large",appearance:"square",src:i,name:a,status:n?"locked":void 0}):void 0;return w.a.createElement(Oe,null,w.a.createElement(ve.a,{href:r,linkComponent:o,elemBefore:s},w.a.createElement(Ce,null,a)))}}]),t}(v.PureComponent),Ae=n("mm4S");function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Me="expanded",De="collapsed",Le=X()({loading:function(){return null},loader:function(){return Promise.all([n.e(276),n.e(87)]).then(n.bind(null,"KZMm"))},modules:["./horizontal-nav/horizontal-navigation"],webpack:function(){return["KZMm"]}}),Ne=Object(Q.default)((function(e,t){return{isResizeDisabled:e,isCollapsed:t}})),_e=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=d()(this,(e=h()(t)).call.apply(e,[this].concat(i))),k()(G()(n),"isGlobalNavHidden",(function(){var e=n.props,t=e.isMobileHeaderActive,r=e.isBeingRenderedInsideMobileNav;return t&&!r})),k()(G()(n),"renderGlobalNavigation",(function(){if(!n.shouldRenderGlobalNavHorizontal()&&!n.shouldRenderGlobalNavVertical())return null;var e=n.props,t=e.aaLogoutUrl,r=e.canonUrl,i=e.containerBitbucketActions,o=e.containerConnectActions,s=e.containerHref,l=e.containerLinkComponent,c=e.containerLogo,u=e.containerName,p=e.currentProject,d=e.globalBitbucketActions,g=e.hasAtlassianAccount,h=e.hasWorkspaceUi,f=e.horizontalNavigationItems,b=e.importBitbucketActions,m=e.isGlobalContext,k=e.isLoading,v=e.isPrivate,y=e.linkComponent,O=e.onCloneClick,S=e.onCreateDrawerClose,C=e.onSearch,E=e.onSearchDrawerInit,A=e.onSearchSubmit,j=e.pullRequestLinkComponent,M=e.recentlyViewed,D=e.repoName,L=e.repositoryLinkComponent,N=e.repoSlug,_=e.searchQuery,x=e.searchResults,P=e.teams,I=e.userAccountStatus,U=e.userAvatarUrl,R=e.userDisplayName,H=e.userHtmlUrl,B=e.userUuid,T=e.userWorkspaceId,q=e.isWhatsNewEnabled,W=e.onKeyboardShortcutsActivated,z=e.whatsNewUrl,F=e.onToggleAtlassianSwitcher,V=e.isAtlassianSwitcherOpen,G=e.publishUiEvent,J=e.isNewAvailableProductsEndpointEnabled,K=w.a.createElement(Ee,{isGlobalContext:m,isPrivate:v,href:s,name:u,logo:c,linkComponent:l});return n.shouldRenderGlobalNavHorizontal()?w.a.createElement(Le,{aaLogoutUrl:t,avatarUrl:U,canonUrl:r,containerBitbucketActions:i,containerConnectActions:o,currentProject:p,drawerHeader:K,globalBitbucketActions:d,hasAtlassianAccount:g,hasWorkspaceUi:h,importBitbucketActions:b,menuItems:f||[],isLoading:k,isLoggedIn:Boolean(B),linkComponent:y,onCloneClick:O,onCreateDrawerClose:S,onSearch:C,onSearchDrawerInit:E,onSearchSubmit:A,pullRequestLinkComponent:j,recentlyViewed:M,repoName:D,repositoryLinkComponent:L,repoSlug:N,searchQuery:_,searchResults:x,teams:P,userAccountStatus:I,userAvatarUrl:U,userDisplayName:R,userHtmlUrl:H,userUuid:B,userWorkspaceId:T,isWhatsNewEnabled:q,onKeyboardShortcutsActivated:W,whatsNewUrl:z,onToggleAtlassianSwitcher:F,isAtlassianSwitcherOpen:V,publishUiEvent:G,isNewAvailableProductsEndpointEnabled:J}):w.a.createElement($.a,null,(function(e){return w.a.createElement(be,a()({},n.props,{drawerHeader:K,isNavigationOpen:!e.state.isCollapsed,themeMode:n.getThemeMode()}))}))})),k()(G()(n),"handleGlobalKeyDown",(function(e){var t=n.props,r=t.isAtlassianSwitcherOpen,a=t.isCreateDrawerOpen,i=t.isSearchDrawerOpen,o=t.onSearchDrawerClose,s=t.onCreateDrawerClose,l=t.onToggleAtlassianSwitcher;"esc"===K()(e)&&(a?s():i?o():r&&l(!1))})),k()(G()(n),"handleResize",(function(e){n.props.onResize({isOpen:e})})),k()(G()(n),"getThemeMode",(function(){var e=Ae.c;return n.props.hasSettingsNavTheme?e=Ae.d:n.props.hasSiteSettingsNavTheme?e=Ae.e:n.props.hasDarkNavTheme&&(e=Ae.a),e})),k()(G()(n),"handleRefs",(function(e,t){var n=e.expandCollapseAffordance;if(n.current){var r=n.current;r.setAttribute("data-qa-id","expand-collapse-button"),r.setAttribute("data-qa-open-state",t?De:Me)}})),k()(G()(n),"getDefaultIsCollapsedState",(function(){return!n.props.isMobileHeaderActive&&!n.props.defaultNavigationOpen})),k()(G()(n),"shouldRenderGlobalNavHorizontal",(function(){return n.props.isHorizontalNavEnabled&&!n.props.isMobileHeaderActive&&!n.props.isBeingRenderedInsideMobileNav})),k()(G()(n),"shouldRenderGlobalNavVertical",(function(){return!!n.props.isBeingRenderedInsideMobileNav||!n.props.isMobileHeaderActive&&!n.props.isHorizontalNavEnabled})),k()(G()(n),"shouldRenderContainerNav",(function(){return!!n.props.isBeingRenderedInsideMobileNav||(n.props.isHorizontalNavEnabled&&!n.props.isMobileHeaderActive?0!==window.location.pathname.indexOf("/dashboard/"):n.shouldRenderGlobalNavVertical())})),k()(G()(n),"renderProductNavigation",(function(){var e=n.props,t=e.navigationType,r=e.renderNavigation,a="product"===t?r:function(){return w.a.createElement("div",null)};return n.shouldRenderGlobalNavVertical()?a:function(){return w.a.createElement("div",null)}})),k()(G()(n),"hideGlobalSideNav",(function(){return n.isGlobalNavHidden()&&n.props.isHorizontalNavEnabled&&0===window.location.pathname.indexOf("/dashboard/")})),n}return b()(t,e),u()(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleGlobalKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleGlobalKeyDown)}},{key:"render",value:function(){var e=this,t=this.props,n=t.intl,r=t.isMobileHeaderActive,a=t.navigationType,i=t.renderNavigation,o=t.topOffset,s="container"===a?i:null,l=this.shouldRenderGlobalNavHorizontal(),c=this.shouldRenderGlobalNavVertical(),u=this.shouldRenderContainerNav();return w.a.createElement(ee.a,{theme:function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{mode:e.getThemeMode()})}},w.a.createElement(te.a,{initialUIController:Ne(r,this.getDefaultIsCollapsedState())},w.a.createElement($.a,null,(function(t){return w.a.createElement(ne.a,{experimental_horizontalGlobalNav:l||!u,showContextualNavigation:u,topOffset:o,productNavigation:e.renderProductNavigation(),containerNavigation:u&&s,collapseToggleTooltipContent:function(){return{text:n.formatMessage(re.resizerButtonLabel),char:"["}},onExpandStart:function(){e.handleResize(!0)},onCollapseStart:function(){e.handleResize(!1)},experimental_flyoutOnHover:!0,experimental_alternateFlyoutBehaviour:!0,experimental_fullWidthFlyout:!0,shouldHideGlobalNavShadow:c,globalNavigation:e.renderGlobalNavigation,getRefs:function(n){return e.handleRefs(n,t.state.isCollapsed)}},e.props.children)}))))}}]),t}(v.PureComponent);k()(_e,"defaultProps",{hasPride:!1,hasSettingsNavTheme:!1,hasSiteSettingsNavTheme:!1,renderNavigation:function(){return w.a.createElement("div",null)},teams:[]});var xe=Object(Z.g)(_e);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ie=Object(O.createSelector)((function(e){return e.global.searchQuery}),(function(e){return e.global.issues}),(function(e){return e.global.pullRequests}),(function(e){return e.global.repositories}),(function(e,t,n,r){return e?{issues:t.filter((function(t){return!!U(t.title,e)})),pullRequests:n.filter((function(t){return!!U(t.title,e)})),repositories:Object(S.d)(r,e,10)}:{issues:t,pullRequests:n,repositories:r.slice(0,10)}}));t.a=Object(y.b)((function(e){var t=Object(N.b)(e),n=Object(R.b)(e)||void 0,r={hasAtlassianAccount:!(!n||!n.extra)&&!!n.extra.has_atlassian_account,userAccountStatus:n&&n.account_status,userDisplayName:n&&n.display_name,userAvatarUrl:n&&n.links.avatar.href,userHtmlUrl:n&&n.links.html&&n.links.html.href,userUuid:n&&n.uuid,userWorkspaceId:n&&n.extra&&n.extra.workspace_id},a=Object(R.g)(e)||void 0,i={targetUserDisplayName:a&&a.display_name,targetUserUuid:a&&a.uuid};return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({aaLogoutUrl:x.a.SOCIAL_AUTH_ATLASSIANID_LOGOUT_URL,bbEnv:Object(F.c)(),canonUrl:x.a.CANON_URL,globalBitbucketActions:e.global.bitbucketActions,importBitbucketActions:e.global.importBitbucketActions,isHorizontalNavEnabled:Object(D.k)(e),isAtlassianSwitcherOpen:e.global.isAtlassianSwitcherOpen,isCreateDrawerOpen:e.global.isCreateDrawerOpen,isLoading:e.global.isLoadingIssues||e.global.isLoadingPullRequests||e.global.isLoadingRepositories,isMobileHeaderActive:Object(L.j)(e),isNavigationOpen:!!Object(L.j)(e)||Object(L.k)(e),isSearchDrawerOpen:e.global.isSearchDrawerOpen,hasLoaded:e.global.hasLoadedIssues&&e.global.hasLoadedPullRequests&&e.global.hasLoadedRepositories,hasDarkNavTheme:e.global.features["theme-dark-nav"],hasPride:e.global.features["pride-logo"],hasWorkspaceUi:e.global.features["workspace-ui"],horizontalNavigationItems:e.global.horizontalNavigationItems,recentlyViewed:Object(N.t)(e),repoName:t?t.name:void 0,repoSlug:t?t.slug:void 0,searchQuery:e.global.searchQuery,searchResults:Ie(e)},i,{teams:e.global.teams,recentlyViewedWorkspacesKeys:Object(_.b)(e),topOffset:Object(L.p)(e)?j.a:void 0},r,{isWhatsNewEnabled:e.global.features["whats-new"],whatsNewUrl:e.global.whatsNewUrl,isNewAvailableProductsEndpointEnabled:e.global.features["use-new-available-products-endpoint"]})}),(function(e){return{onCloneClick:function(){e(B(!1)),e(Object(M.a)(!0))},onCreateDrawerClose:function(){return e(B(!1))},onCreateDrawerOpen:function(){return e(B(!0))},onKeyboardShortcutsActivated:function(){return e(Object(T.a)(!0))},onResize:function(t){return e(Object(q.a)(t.isOpen))},onSearch:function(t){return e((n=t.target.value,{type:H.j,payload:n}));var n},onSearchDrawerClose:function(){return e(Object(W.a)(!1))},onSearchDrawerInit:function(){return e({type:H.k})},onSearchDrawerOpen:function(){return e(Object(W.a)(!0))},onToggleAtlassianSwitcher:function(t){return e(function(e){return{type:H.l,payload:e}}(t))}}}))(function(e){function t(){return l()(this,t),d()(this,h()(t).apply(this,arguments))}return b()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.recentlyViewed,n=e.isNavigationOpen,r=e.isMobileHeaderActive,i=o()(e,["recentlyViewed","isNavigationOpen","isMobileHeaderActive"]);return w.a.createElement(C.a.Provider,{value:t},w.a.createElement(xe,a()({},i,{defaultNavigationOpen:n,isMobileHeaderActive:r,bbEnv:Object(F.c)(),publishScreenEvent:z.d,publishUiEvent:z.f,publishOperationalEvent:z.c,publishTrackEvent:z.e,repositoryLinkComponent:E.a,pullRequestLinkComponent:A.a})))}}]),t}(w.a.Component))},M7AS:function(e,t,n){"use strict";n.d(t,"b",(function(){return B})),n.d(t,"a",(function(){return T}));var r=n("RIqP"),a=n.n(r),i=n("J4zp"),o=n.n(i),s=n("o0o1"),l=n.n(s),c=n("yXPU"),u=n.n(c),p=n("lSNA"),d=n.n(p),g=n("QILm"),h=n.n(g),f=n("q1tI"),b=n.n(f),m=n("5nXd"),k=n.n(m),v=n("rdUC"),w=n.n(v),y=n("PD8m"),O=n.n(y),S=n("7nxw"),C=n.n(S),E=[w.a,O.a],A=[C.a],j=k.a.createStore(E,A);var M=function(e){return"whatsnew_content::".concat(e)},D=function(e){return"whatsnew::".concat(e)},L=function(e){return j.get(D(e),0)},N=function(e){return j.get(M(e))},_=function(e,t){var n=(new Date).getTime()+36e5;j.set(M(e),t,n)};function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e){var t=document.createElement("span");return t.innerHTML=e.replace(/<\s*script[^>]*>.*<\s*\/\s*script\s*>/,"").replace(/<\/?[^>]+(>|$)/g,""),(t.textContent||"").trim()},U=function(e){return"".concat(I(e).split(". ").slice(0,1).join(""),".")},R=function(e){return e.map((function(e){var t=e.title,n=e.intro,r=h()(e,["title","intro"]);return P({title:I(t),intro:U(n)},r)}))},H=function(){var e=u()(l.a.mark((function e(t,n){var r,a,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=N(t))){e.next=3;break}return e.abrupt("return",R(r));case 3:if(n){e.next=5;break}return e.abrupt("return",void 0);case 5:return e.next=7,fetch(n);case 7:return a=e.sent,e.next=10,a.json();case 10:return i=e.sent,o=i.map((function(e){var t=e.id,n=e.title,r=e.date,a=e.excerpt,i=e.link;return{id:t,title:I(n.rendered),date:r.slice(0,10),intro:U(a.rendered),link:i,isNew:!1}})),_(t,o),e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function B(e,t){var n=Object(f.useState)([]),r=o()(n,2),i=r[0],s=r[1];return Object(f.useEffect)((function(){try{H(t,e).then((function(e){if(e){var n=L(t);s(e.map((function(e){return P({},e,{isNew:e.id>n})})))}}))}catch(e){s([])}}),[e,t]),{blogs:i,newBlogCount:i.filter((function(e){return e.isNew})).length,storeLastSeenBlog:function(){if(i&&i.length){var e=Math.max.apply(Math,a()(i.map((function(e){return e.id}))));!function(e,t){j.set(D(e),t)}(t,e),s(function(e,t){var n=L(t);return e.map((function(e){return P({},e,{isNew:e.id>n})}))}(i,t))}}}}var T=b.a.memo((function(e){var t=e.url,n=e.currentUserUuid,r=e.children,a=B(t,n);return r({blogs:a.blogs,newBlogCount:a.newBlogCount,storeLastSeenBlog:a.storeLastSeenBlog})}))},NSAn:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("q1tI"),a=n.n(r).a.createContext([])},ZPvP:function(e,t,n){"use strict";var r=n("nBRC");t.a=function(e){return{type:r.u,payload:e}}},"b0+Y":function(e,t,n){"use strict";var r=n("nBRC");t.a=function(e){return{type:r.r,payload:e}}},bSBO:function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var r=n("q1tI"),a=n.n(r),i=n("/MKj"),o=n("vOnD"),s=n("PriX"),l=n("ZPvP"),c=n("b0+Y"),u=n("lwsE"),p=n.n(u),d=n("W8MJ"),g=n.n(d),h=n("a1gu"),f=n.n(h),b=n("Nsbk"),m=n.n(b),k=n("PJYZ"),v=n.n(k),w=n("7W2i"),y=n.n(w),O=n("lSNA"),S=n.n(O),C=n("JRPe"),E=n("1FuN"),A=n("Dwss"),j=Object(C.f)({shortcutGroupTitle:{id:"frontbucket.keyboardShortcuts.global.shortcutGroupTitle",defaultMessage:"Global actions"},toggleKeyboardShortcutMenuShortcut:{id:"frontbucket.keyboardShortcuts.global.toggleKeyboardShortcutMenuShortcut",defaultMessage:"Display keyboard shortcuts"},toggleNavigationShortcut:{id:"frontbucket.keyboardShortcuts.global.toggleNavigationShortcut",defaultMessage:"Expand and collapse navigation"},toggleSearchShortcut:{id:"frontbucket.keyboardShortcuts.global.toggleSearchShortcut",defaultMessage:"Focus the site search"}}),M=function(e){function t(){var e,n;p()(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=f()(this,(e=m()(t)).call.apply(e,[this].concat(a))),S()(v()(n),"shortcuts",(function(e){return[{id:"toggle-nav",description:n.props.intl.formatMessage(j.toggleNavigationShortcut),handler:e.toggleCollapse,keys:"["},{id:"toggle-search",description:n.props.intl.formatMessage(j.toggleSearchShortcut),handler:function(e){e.preventDefault(),n.props.toggleSearchDrawer()},keys:"/"},{id:"toggle-keyboard-shortcut-menu",description:n.props.intl.formatMessage(j.toggleKeyboardShortcutMenuShortcut),handler:function(){n.props.toggleKeyboardShortcutMenu()},keys:"?"}]})),n}return y()(t,e),g()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.intl;return a.a.createElement(E.a,null,(function(t){return a.a.createElement(A.a,{groupId:"global",groupTitle:r.formatMessage(j.shortcutGroupTitle),groupWeight:-100,shortcuts:e.shortcuts(t)},n)}))}}]),t}(r.PureComponent),D=Object(C.g)(M),L={toggleKeyboardShortcutMenu:s.a,toggleNavigation:l.a,toggleSearchDrawer:c.a},N=Object(i.b)(void 0,L)(D),_=n("RUrY"),x=n("nEUC"),P=n("kW52"),I=n("IV20"),U=function(e){function t(){return p()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.siteMessage,n=e.intl.formatMessage;return t?a.a.createElement(P.a,{isOpen:!0},t.text,t.url&&a.a.createElement(r.Fragment,null," ","—"," ",a.a.createElement("a",{href:t.url,target:"_new",rel:"noopener"},n(I.a.learnMoreButton)))):null}}]),t}(r.PureComponent),R=Object(i.b)((function(e){return{siteMessage:Object(x.p)(e)}}))(Object(C.g)(U)),H=n("wTIg"),B=n("gxo2"),T=Object(H.a)("div",{target:"e1vipv120"})("position:fixed;top:0;width:100%;z-index:",B.layers.blanket()+1,";"),q=n("qpge"),W=n("UcqW"),z=function(e){var t=e.Component,n=e.mobileHeading,s=e.children,l=Object(i.e)(x.j),c=Object(i.e)(x.p),u=Object(r.useCallback)((function(){return a.a.createElement(t,{isBeingRenderedInsideMobileNav:!0})}),[]);return a.a.createElement(o.ThemeProvider,{theme:{}},a.a.createElement(W.c,null,l&&a.a.createElement(_.a,{renderNavigation:u,heading:n}),c&&a.a.createElement(T,null,a.a.createElement(R,null)),a.a.createElement(t,{isMobileHeaderActive:l},a.a.createElement(N,null,a.a.createElement(q.a,null,s)))))}},dC6I:function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return k})),n.d(t,"e",(function(){return v})),n.d(t,"d",(function(){return w}));var r=n("lwsE"),a=n.n(r),i=n("a1gu"),o=n.n(i),s=n("Nsbk"),l=n.n(s),c=n("PJYZ"),u=n.n(c),p=n("7W2i"),d=n.n(p),g=n("lSNA"),h=n.n(g),f=n("4Nyd"),b=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o()(this,(e=l()(t)).call.apply(e,[this].concat(i))),h()(u()(n),"name","bitbucket.adg3-navigation.search.code.view.results"),n}return d()(t,e),t}(f.default),m=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o()(this,(e=l()(t)).call.apply(e,[this].concat(i))),h()(u()(n),"name","bitbucket.search_drawer.item.click"),n}return d()(t,e),t}(f.default),k=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o()(this,(e=l()(t)).call.apply(e,[this].concat(i))),h()(u()(n),"name","bitbucket.sidebar.create_drawer.click"),n}return d()(t,e),t}(f.default),v=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o()(this,(e=l()(t)).call.apply(e,[this].concat(i))),h()(u()(n),"name","bitbucket.whatsnew.submenu.open"),n}return d()(t,e),t}(f.default),w=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o()(this,(e=l()(t)).call.apply(e,[this].concat(i))),h()(u()(n),"name","bitbucket.whatsnew.post.clicked"),n}return d()(t,e),t}(f.default)},gzMw:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),s=n("a1gu"),l=n.n(s),c=n("Nsbk"),u=n.n(c),p=n("PJYZ"),d=n.n(p),g=n("7W2i"),h=n.n(g),f=n("lSNA"),b=n.n(f),m=n("3iA2"),k=n.n(m),v=n("VZTH"),w=n.n(v),y=n("AAxa"),O=n.n(y),S=n("AnMm"),C=n.n(S),E=n("XPui"),A=n.n(E),j=n("pEHY"),M=n.n(j),D=n("N2DW"),L=n.n(D),N=n("ppEn"),_=n.n(N),x=n("GYOd"),P=n.n(x),I=n("H4EA"),U=n.n(I),R=n("q1tI"),H=n.n(R),B=n("JRPe"),T=n("Rz6r"),q=n("4Nyd"),W=n("pVnL"),z=n.n(W),F=function(e){return function(t){var n,r,i;return r=n=function(n){function r(){return a()(this,r),l()(this,u()(r).apply(this,arguments))}return h()(r,n),o()(r,[{key:"render",value:function(){return H.a.createElement(t,z()({},this.props,{menuItem:e}))}}]),r}(R.Component),b()(n,"WrappedComponent",t),b()(n,"displayName","WithMenuItem(".concat((i=t).displayName||i.name||"Component",")")),r}},V=n("dC6I"),G=n("6/Uw"),J=Object(B.f)({globalBitbucketActionsHeading:{id:"bitkit.navigation.createDrawer.globalBitbucketActionsHeading",defaultMessage:"Create"},importBitbucketActionsHeading:{id:"bitkit.navigation.createDrawer.importBitbucketActionsHeading",defaultMessage:"Import"},containerBitbucketActionsHeading:{id:"bitkit.navigation.createDrawer.containerBitbucketActionsHeading",defaultMessage:"Get to work"},containerConnectActionsHeading:{id:"bitkit.navigation.createDrawer.containerConnectActionsHeading",defaultMessage:"Apps"}}),K=n("oyON"),Q=n("Eh+d"),Z={"repository-create-drawer-item":M.a,"repository-import-drawer-item":M.a,"team-create-drawer-item":U.a,"project-create-drawer-item":P.a,"snippet-create-drawer-item":L.a,"workspace-create-drawer-item":_.a,"repo-add-file-link":k.a,"repo-clone-button":O.a,"repo-compare-link":T.c,"repo-create-branch-link":w.a,"repo-create-pull-request-link":A.a,"repo-fork-link":C.a},Y=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),b()(d()(n),"renderBitbucketAction",(function(e){var t=Z[e.id],r=e.analytics_payload,a=r.addon_key,i=r.module_key,o=r.oauth_consumer_id;return H.a.createElement(q.FactContext.Consumer,{key:e.id},(function(r){var s=r.publishFact;return H.a.createElement(K.a,{onClick:function(){s(new V.b({label:e.analytics_label||e.id,addon_key:a,module_key:i,oauth_consumer_id:o})),n.props.publishUiEvent({action:"clicked",actionSubject:"link",actionSubjectId:"createDrawerLink",source:"navigation",attributes:{label:e.analytics_label||e.id,addon_key:a,module_key:i,oauth_consumer_id:o}}),e.is_client_link&&n.props.onCreateDrawerClose()},icon:t?H.a.createElement(t,{label:""}):null,href:e.url,linkComponent:e.is_client_link&&n.props.linkComponent?F(e)(n.props.linkComponent):void 0,text:H.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.label}}),"data-testid":e.id})}))})),n}return h()(t,e),o()(t,[{key:"renderCloneTrigger",value:function(e){var t=this,n=Z[e.id],r=e.analytics_payload,a=r.addon_key,i=r.module_key,o=r.oauth_consumer_id;return H.a.createElement(q.FactContext.Consumer,{key:e.id},(function(r){var s=r.publishFact;return H.a.createElement(K.a,{onClick:function(){s(new V.b({label:e.analytics_label||e.id,addon_key:a,module_key:i,oauth_consumer_id:o})),t.props.onCloneClick()},icon:n?H.a.createElement(n,{label:""}):null,text:H.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.label}})})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.globalBitbucketActions,r=t.importBitbucketActions,a=t.containerBitbucketActions,i=t.containerConnectActions,o=t.drawerHeader,s=t.intl;return H.a.createElement(R.Fragment,null,o||null,n.length?H.a.createElement(Q.a,{title:s.formatMessage(J.globalBitbucketActionsHeading)},n.map((function(t){return e.renderBitbucketAction(t)}))):null,r.length?H.a.createElement(Q.a,{title:s.formatMessage(J.importBitbucketActionsHeading)},r.map((function(t){return e.renderBitbucketAction(t)}))):null,a&&a.length?H.a.createElement(Q.a,{title:s.formatMessage(J.containerBitbucketActionsHeading)},a.map((function(t){return"repo-clone-button"===t.id?e.renderCloneTrigger(t):e.renderBitbucketAction(t)}))):null,i&&i.length?H.a.createElement(Q.a,{title:s.formatMessage(J.containerConnectActionsHeading)},i.map((function(e){return function(e){var t=e.analytics_payload,n=t.addon_key,r=t.module_key,a=t.oauth_consumer_id;return H.a.createElement(q.FactContext.Consumer,{key:e.id},(function(t){var i=t.publishFact;return H.a.createElement(K.a,{onClick:function(){return i(new V.b({label:e.analytics_label||e.id,addon_key:n,module_key:r,oauth_consumer_id:a}))},icon:H.a.createElement(G.a,{menuItem:e}),href:e.url,text:e.label})}))}(e)}))):null)}}]),t}(R.PureComponent);b()(Y,"defaultProps",{containerBitbucketActions:[],containerConnectActions:[]});t.a=Object(B.g)(Y)},oyON:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),i=n("QILm"),o=n.n(i),s=n("q1tI"),l=n.n(s),c=n("wTIg"),u=n("oNmO"),p=n("gxo2"),d=Object(c.a)(u.a,{target:"e16e1tks0"})("height:",5*Object(p.gridSize)(),"px;");t.a=function(e){var t=e.text,n=e.icon,r=o()(e,["text","icon"]);return l.a.createElement(d,a()({elemBefore:n},r),t)}},pc73:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),i=n("lwsE"),o=n.n(i),s=n("W8MJ"),l=n.n(s),c=n("a1gu"),u=n.n(c),p=n("Nsbk"),d=n.n(p),g=n("PJYZ"),h=n.n(g),f=n("7W2i"),b=n.n(f),m=n("lSNA"),k=n.n(m),v=n("Zpsm"),w=n("hbEN"),y=n("Qyje"),O=n.n(y),S=n("q1tI"),C=n.n(S),E=n("JRPe"),A=n("4Nyd"),j=n("dC6I"),M=Object(E.f)({searchForCode:{id:"bitkit.navigation.searchResults.searchForCode",defaultMessage:"Search for code"},searchForCodeIn:{id:"bitkit.navigation.searchResults.searchForCodeIn",defaultMessage:"Search for code in {name}"},searchPlaceholder:{id:"bitkit.navigation.searchDrawer.placeholder",defaultMessage:"Search for repositories, code and more…"},recentlyViewedHeading:{id:"bitkit.navigation.searchDrawer.recentlyViewedHeading",defaultMessage:"Recently viewed"},codeHeading:{id:"bitkit.navigation.searchResults.codeHeading",defaultMessage:"Code"},viewAllCodeMatches:{id:"bitkit.navigation.searchResults.viewAllCodeMatches",defaultMessage:"View all code matches"},viewAllCodeMatchesIn:{id:"bitkit.navigation.searchResults.viewAllCodeMatchesIn",defaultMessage:"View all code matches in {name}"},repositoriesHeading:{id:"bitkit.navigation.searchResults.repositoriesHeading",defaultMessage:"Repositories"},viewAllRepositoyMatches:{id:"bitkit.navigation.searchResults.viewAllRepositoyMatches",defaultMessage:"View all repository matches"},viewAllRepositories:{id:"bitkit.navigation.searchResults.viewMoreRepositories",defaultMessage:"View all repositories"},pullRequestsHeading:{id:"bitkit.navigation.searchResults.pullRequestsHeading",defaultMessage:"Pull requests"},issuesHeading:{id:"bitkit.navigation.searchResults.issuesHeading",defaultMessage:"Issues"}}),D=n("wTIg");var L=Object(D.a)("div",{target:"e1lnuygf0"})({name:"12jni9k",styles:"&& input{border:0;box-sizing:inherit;font-family:inherit;font-size:1.4em;line-height:inherit;height:inherit;border-radius:inherit;padding:inherit;}"}),N=Object(D.a)("span",{target:"e1lnuygf1"})({name:"in3yi3",styles:"font-weight:bold;"}),_=n("QILm"),x=n.n(_),P=n("pdYG"),I=n.n(P),U=n("b0Qh"),R=n("gxo2"),H=Object(D.a)("div",{target:"e183xs5i0"})("width:",4*Object(R.gridSize)(),"px;height:",4*Object(R.gridSize)(),"px;background-color:",(function(e){return e.backgroundColor}),";border-radius:50%;display:flex;justify-content:center;align-items:center;"),B=function(e){function t(){return o()(this,t),u()(this,d()(t).apply(this,arguments))}return b()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.issue,n=x()(e,["issue"]),r="#".concat(t.id,": ").concat(t.title),i=C.a.createElement(H,{backgroundColor:U.a.N30},C.a.createElement(I.a,{label:r}));return C.a.createElement(v.c,a()({type:"base",icon:i,text:r,resultId:t.id,subText:t.repository},n))}}]),t}(S.PureComponent),T=n("J4zp"),q=n.n(T),W=n("g7yd");function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=function(e){return e&&"links"in e&&void 0!==e.links},G=function(e){function t(){return o()(this,t),u()(this,d()(t).apply(this,arguments))}return b()(t,e),l()(t,[{key:"render",value:function(){var e,t,n=this.props,r=n.avatarUrl,i=n.fullSlug,s=n.name,c=n.repository,p=n.url,g=n.isSearchDrawerOpen,f=n.onSearchDrawerClose,m=n.repositoryLinkComponent,w=x()(n,["avatarUrl","fullSlug","name","repository","url","isSearchDrawerOpen","onSearchDrawerClose","repositoryLinkComponent"]),y=i.split("/"),O=q()(y,1)[0];return C.a.createElement(v.a,a()({icon:C.a.createElement(W.a,{src:r}),subText:O,text:s,href:p,linkComponent:m?(e=c,t={onSearchDrawerClose:f,isSearchDrawerOpen:g},function(n){var r,i,s;return i=r=function(r){function i(){var e,n;o()(this,i);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=u()(this,(e=d()(i)).call.apply(e,[this].concat(a))),k()(h()(n),"onClick",(function(e){n.props.onClick&&n.props.onClick(e),t.isSearchDrawerOpen&&t.onSearchDrawerClose()})),n}return b()(i,r),l()(i,[{key:"render",value:function(){return C.a.createElement(n,a()({},this.props,{repository:V(e)?e:F({},e,{full_name:e.fullSlug,links:{html:{href:e.url}}}),onClick:this.onClick}))}}]),i}(S.Component),k()(r,"WrappedComponent",n),k()(r,"displayName","RepositoryDrawerLink(".concat((s=n).displayName||s.name||"Component",")")),i})(m):void 0},w))}}]),t}(S.PureComponent),J=n("XPui"),K=n.n(J),Q=function(e){return void 0!==e.links},Z=function(e,t){return function(n){var r,i,s;return i=r=function(r){function i(){var e,n;o()(this,i);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=u()(this,(e=d()(i)).call.apply(e,[this].concat(a))),k()(h()(n),"onClick",(function(e){n.props.onClick&&n.props.onClick(e),t.isSearchDrawerOpen&&t.onSearchDrawerClose()})),n}return b()(i,r),l()(i,[{key:"render",value:function(){return C.a.createElement(n,a()({},this.props,{href:Q(e)?e.links.html.href:t.pullRequestUrl,title:e.title,onClick:this.onClick}))}}]),i}(S.Component),k()(r,"WrappedComponent",n),k()(r,"displayName","WithPullRequest(".concat((s=n).displayName||s.name||"Component",")")),i}};function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $=function(e){function t(){return o()(this,t),u()(this,d()(t).apply(this,arguments))}return b()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.pullRequest,n=e.pullRequestLinkComponent,r=e.onSearchDrawerClose,i=e.isSearchDrawerOpen,o=x()(e,["pullRequest","pullRequestLinkComponent","onSearchDrawerClose","isSearchDrawerOpen"]),s="#".concat(t.localId,": ").concat(t.title),l=C.a.createElement(H,{backgroundColor:U.a.N30},C.a.createElement(K.a,{label:s}));return C.a.createElement(v.a,a()({icon:l,text:s,subText:t.repo,href:t.url,linkComponent:n?Z(X({},t,{id:t.localId}),{pullRequestUrl:t.url,onSearchDrawerClose:r,isSearchDrawerOpen:i})(n):void 0},o))}}]),t}(S.PureComponent),ee=n("UN/d"),te=n.n(ee),ne=n("oyON"),re=Object(E.f)({searchIcon:{id:"bitkit.navigation.search.view-all-results.searchIcon",defaultMessage:"Search icon"}}),ae=function(e){function t(){return o()(this,t),u()(this,d()(t).apply(this,arguments))}return b()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.intl,r=x()(e,["text","intl"]),i=C.a.createElement(H,{backgroundColor:U.a.N50},C.a.createElement(te.a,{label:n.formatMessage(re.searchIcon),primaryColor:"#FFFFFF"}));return C.a.createElement(ne.a,a()({icon:i,text:t},r))}}]),t}(S.PureComponent),ie=Object(E.g)(ae),oe=n("Eh+d"),se=n("NSAn");function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=function(e){return"/dashboard/repositories".concat(e?"?".concat(O.a.stringify({search:e})):"")},pe=function(){return"/search"},de=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=u()(this,(e=d()(t)).call.apply(e,[this].concat(a))),k()(h()(n),"getUserUUID",(function(){var e=n.props.targetUserUuid;if(e)return Object(A.uncurlyUuid)(e)})),k()(h()(n),"getSearchUrl",(function(){var e=pe(),t=n.getQuery(),r=n.props.targetUserUuid;if(!t)return e;var a={q:t};return r&&(a.account=r),"".concat(e,"?").concat(O.a.stringify(a))})),n}return b()(t,e),l()(t,[{key:"componentDidMount",value:function(){"function"==typeof this.props.onSearchDrawerInit&&this.props.onSearchDrawerInit()}},{key:"publishAnalyticEvent",value:function(e,t){this.props.publishUiEvent({action:"clicked",actionSubject:"link",actionSubjectId:e,source:"navigation",attributes:ce({},t)})}},{key:"getSearchContext",value:function(){var e=this.props,t=e.currentProject,n=e.repoSlug,r=e.repoName,a=e.targetUserDisplayName;return n?{modifier:"repo:".concat(n),name:r}:t&&t.key?{modifier:"project:".concat(t.key),name:t.name}:a?{name:a}:{}}},{key:"getQuery",value:function(){var e=this.props.searchQuery,t=this.getSearchContext(),n=[];return t.modifier&&n.push(t.modifier),(e||""===e)&&n.push(e),n.join(" ")}},{key:"renderCodeSearch",value:function(){var e=this,n=this.props,r=n.intl,i=n.searchQuery,o={context:t.getViewName()},s=this.getUserUUID();s&&(o.user_uuid=s);var l=this.getSearchContext(),c=l.name?C.a.createElement(E.b,a()({},i?M.viewAllCodeMatchesIn:M.searchForCodeIn,{values:{name:C.a.createElement(N,null,l.name)}})):C.a.createElement(E.b,i?M.viewAllCodeMatches:M.searchForCode);return C.a.createElement(oe.a,{key:"code",title:r.formatMessage(M.codeHeading)},C.a.createElement(A.FactContext.Consumer,{key:"view-code"},(function(t){var n=t.publishFact;return C.a.createElement(ie,{onClick:function(){n(new j.c(o)),e.publishAnalyticEvent("viewCodeLink",o)},resultId:"view-code",href:e.getSearchUrl(),linkComponent:e.props.linkComponent,text:c})})))}},{key:"renderRecentRepos",value:function(){var e=this,t=this.props,n=t.intl;return t.isLoggedIn&&C.a.createElement(se.a.Consumer,null,(function(t){return!!t&&C.a.createElement(oe.a,{title:n.formatMessage(M.recentlyViewedHeading),key:"recent-repositories"},t.map((function(n,r){var a=n.links.html.href;return C.a.createElement(A.FactContext.Consumer,{key:a},(function(i){var o=i.publishFact;return C.a.createElement(G,{avatarUrl:n.links.avatar.href,fullSlug:n.full_name,name:n.name,repository:n,repositoryLinkComponent:e.props.repositoryLinkComponent,onSearchDrawerClose:e.props.onSearchDrawerClose,isSearchDrawerOpen:e.props.isSearchDrawerOpen,onClick:function(){o(new j.a({total_shown:t.length,index:r,type:"recent_repos",repository_uuid:Object(A.uncurlyUuid)(n.uuid),owner_uuid:Object(A.uncurlyUuid)(n.owner?n.owner.uuid:"{}")})),e.publishAnalyticEvent("repositoryLink",{total_shown:t.length,index:r,type:"recent_repos",repository_uuid:Object(A.uncurlyUuid)(n.uuid),owner_uuid:Object(A.uncurlyUuid)(n.owner?n.owner.uuid:"{}")})},url:a})}))})))}))}},{key:"renderRepositoryResults",value:function(e){var t=this,n=this.props,r=n.intl,a=n.searchQuery,i=e.map((function(n,r){return C.a.createElement(A.FactContext.Consumer,{key:n.url},(function(a){var i=a.publishFact;return C.a.createElement(G,{avatarUrl:n.logo,fullSlug:n.fullSlug,name:n.name,repository:n,repositoryLinkComponent:t.props.repositoryLinkComponent,onSearchDrawerClose:t.props.onSearchDrawerClose,isSearchDrawerOpen:t.props.isSearchDrawerOpen,onClick:function(){i(new j.a({total_shown:e.length,index:r,type:"search_repos",repository_uuid:Object(A.uncurlyUuid)(n.uuid),owner_uuid:Object(A.uncurlyUuid)(n.owner_uuid)})),t.publishAnalyticEvent("repositoryLink",{total_shown:e.length,index:r,type:"search_repos",repository_uuid:Object(A.uncurlyUuid)(n.uuid),owner_uuid:Object(A.uncurlyUuid)(n.owner_uuid)})},url:n.url})}))})),o=0!==e.length,s=o?ue(a):ue(),l=r.formatMessage(o?M.viewAllRepositoyMatches:M.viewAllRepositories);return i.push(C.a.createElement(ie,{resultId:"view-more-repo-results",key:"view-more-repo-results",href:s,text:l})),C.a.createElement(oe.a,{key:"repositories",title:r.formatMessage(M.repositoriesHeading)},i)}},{key:"renderPullRequestResults",value:function(e){var t=this,n=this.props.intl;return C.a.createElement(oe.a,{key:"pull-requests",title:n.formatMessage(M.pullRequestsHeading)},e.map((function(n,r){return C.a.createElement(A.FactContext.Consumer,{key:n.url},(function(a){var i=a.publishFact;return C.a.createElement($,{onClick:function(){i(new j.a({total_shown:e.length,index:r,type:"search_prs",repository_uuid:Object(A.uncurlyUuid)(n.repo_uuid),owner_uuid:Object(A.uncurlyUuid)(n.repo_owner_uuid),pull_request_id:n.localId})),t.publishAnalyticEvent("pullRequestLink",{total_shown:e.length,index:r,type:"search_prs",repository_uuid:Object(A.uncurlyUuid)(n.repo_uuid),owner_uuid:Object(A.uncurlyUuid)(n.repo_owner_uuid),pull_request_id:n.localId})},pullRequest:n,pullRequestLinkComponent:t.props.pullRequestLinkComponent,onSearchDrawerClose:t.props.onSearchDrawerClose,isSearchDrawerOpen:t.props.isSearchDrawerOpen})}))})))}},{key:"renderIssueResults",value:function(e){var t=this,n=this.props.intl;return C.a.createElement(oe.a,{key:"issues",title:n.formatMessage(M.issuesHeading)},e.map((function(n,r){return C.a.createElement(A.FactContext.Consumer,{key:n.url},(function(a){var i=a.publishFact;return C.a.createElement(B,{onClick:function(){i(new j.a({total_shown:e.length,index:r,type:"search_issues",repository_uuid:Object(A.uncurlyUuid)(n.repo_uuid),owner_uuid:Object(A.uncurlyUuid)(n.repo_owner_uuid),issue_id:n.localId})),t.publishAnalyticEvent("issueLink",{total_shown:e.length,index:r,type:"search_issues",repository_uuid:Object(A.uncurlyUuid)(n.repo_uuid),owner_uuid:Object(A.uncurlyUuid)(n.repo_owner_uuid),issue_id:n.localId})},issue:{id:n.localId,repository:n.repo,title:n.title},href:n.url,resultId:n.url})}))})))}},{key:"renderSearchResults",value:function(){var e=this.props.searchResults,t=[this.renderRepositoryResults(e.repositories)];return 0!==e.pullRequests.length&&t.push(this.renderPullRequestResults(e.pullRequests)),0!==e.issues.length&&t.push(this.renderIssueResults(e.issues)),t}},{key:"render",value:function(){var e=this.props,t=e.intl,n=e.isLoading,r=e.onSearch,a=e.onSearchSubmit,i=e.searchQuery,o=e.isLoggedIn,s=[this.renderCodeSearch()];if(i.trim()&&!n&&o)this.renderSearchResults().forEach((function(e){return s.push(e)}));else{var l=this.renderRecentRepos();l&&s.push(l)}var c=Object(w.a)(r,400);return C.a.createElement(L,null,C.a.createElement(v.b,{isLoading:n&&!!i.trim(),placeholder:t.formatMessage(M.searchPlaceholder),value:i,onSearchInput:function(e){e.persist(),c(e)},onSearchSubmit:a},s))}}],[{key:"getViewName",value:function(){var e=document.querySelector("meta[name=bb-view-name]");return e&&e instanceof HTMLMetaElement&&"string"==typeof e.content?e.content:""}}]),t}(S.PureComponent);k()(de,"defaultProps",{isLoading:!1,onSearch:function(){},onSearchDrawerInit:function(){},onSearchSubmit:function(){},recentlyViewed:[],searchQuery:"",searchResults:{issues:[],pullRequests:[],repositories:[]}});t.a=Object(E.g)(de)},"s/1c":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return g}));var r=n("QILm"),a=n.n(r),i=n("q1tI"),o=n.n(i),s=n("WvSQ"),l=n("ZeO0"),c=n("iUJI"),u=n("JrKX"),p=n("eWXu"),d=function(e){var t=e.isAkDropdown,n=a()(e,["isAkDropdown"]);return t?o.a.createElement(s.a,n):o.a.createElement(c.a,n)},g=function(e){var t=e.isAkDropdown,n=a()(e,["isAkDropdown"]);if(t)return o.a.createElement(l.a,n);var r=n.children,i=n.title,s=a()(n,["children","title"]);return o.a.createElement(u.a,s,o.a.createElement(p.a,null,i),r)}}}]);
//# sourceMappingURL=dashboard-route~dashboard-routes~profile-page~repository-routes.210db488b2014403e192.js.map